[TOC]

#### 版本控制

* 本地版本控制系统（VCS）

  > 将补丁集（即文件之间的差异）以特殊格式保存在磁盘上。然后它可以通过添加所有补丁来重新创建任何时间点的文件
  >
  > 本地模式下的版本控制
  >
  > 缺点：当机器出问题时，硬盘损坏，那么历史版本将全部丢失

* 集中版本控制系统（CVCS）

  > 有一个包含所有版本文件的服务器，以及许多从该服务器检出文件的客户端
  >
  > 团队开发下协同工作的版本控制
  >
  > 每个人在一定限度上可以看到其他人修改了什么
  >
  > 管理员可以更细化的控制谁可以做什么
  >
  > 缺点：如果服务器单点故障，那么也将丢失全部历史版本

* 分布式版本控制系统（DVCS）

  > 客户端完全镜像存储库，即完全复制存储库，因此，如果任何服务器宕机损坏，那么任何客户端存储库都可以再复制回服务器，以恢复它

#### Git存储方式

其他版本控制系统基于文件差异存储文件，而Git把每次提交都看成一次快照，如果文件未经修改，那么当前快照会指向上一个版本的索引

比如：

| v1     | v2   | v3   | v4   |               v5               |
| ------ | ---- | ---- | ---- | :----------------------------: |
| File A | A    | A    | A1   |               A2               |
| File B | B    | B1   | B1   |               B2               |
| File C | C1   | C2   | C3   | C3(未修改<br />索引指向V4版本) |

#### 几乎所有操作都在本地进行

如果浏览项目历史，Git会从本地数据库读取

查看近一个月之间的修改，Git会查询一个月前的文件来做一次本地查询，而`不是从服务器拉取旧版本再对比`

#### Git保证完整性

Git保存的信息都是以文件内容和哈希值来索引，而不是文件名，所以当文件更改时那么Hash值会发生变化

#### Git一般只添加数据

你执行的Git操作，几乎都是在往数据库中添加数据，很难删除数据，所以你也`很难会做到导致一个文件不可恢复`的操作，

#### 状态

* 已提交（committed）

  > 表示数据已经安全地保存在本地数据库中

* 已修改（modified）

  > 表示修改了文件，但还没保存到数据库中

* 已暂存（staged）

  > 表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中

这三种状态会让Git拥有三个目录

* 工作目录

  > 对项目的某个版本独立提取出来的内容，供你使用/修改

* 暂存区域

  > 暂存区是一个文件，保存下一次要提交的文件列表

* Git 仓库

  > 这是 Git 中最重要的部分，从其它计算机克隆仓库时，复制的就是这里的数据

Git基本流程

1. 在工作区中修改文件。
2. 将你想要下次提交的更改选择性地暂存，这样只会将更改的部分添加到暂存区。
3. 提交更新，找到暂存区的文件，将快照永久性存储到 Git 目录。

#### 为Git设置用户信息

```shell
git config --global user.name "John Doe"
git config --global user.email johndoe@example.com
```

用了 --global 配置后，那么将会在任何地方都用该用户名和Email，如果想在特定的项目中使用其他的话，那么只需要在特定的项目下运行不带 --global 的命令即可

#### 查看Git配置信息

```shell
# 查看所有的配置项及他们所在的文件
git config --list --show-origin
# 先查看所有配置项
git config --list
# git config <key> 查看指定的键配置
git config core.autocrlf
```

#### 获取Git命令的综合手册

```shell
git help <verb>
git <verb> --help
man git-<verb>
# 例 git help add
# 此操作会弹出一个网页，上面有 add 命令的介绍
```

相反以下命令会直接在终端输出快捷参考

```shell
git add -h
```
