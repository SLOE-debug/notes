## 理论

​	开头先来说下，内存优化表

​	内存优化表具有完全持久性。与（传统）基于磁盘的表上的事务一样，内存优化表上的事务具有完全原子性、一致性、隔离性和持久性 (ACID)。

​	内存优化表的主存储器是内存，次要的是存在磁盘上的副本，为的就是持久化这些数据，而当服务器出问题恢复后，内存优化表将再次从磁盘中的持久化文件中读取，将数据放在内存中，是为了获得更大的性能提升，并且支持事务持续性延迟的持久表， 延迟的持久事务在提交事务并将控制权归还客户端后不久即保存到磁盘。 作为提高性能的代价，在服务器崩溃或故障转移过程中将丢失已提交但未保存到磁盘的事务。

​	内存优化表的是版本化的，这意味着表中的每行都可能有多个版本，所有行版本均维护在同一个表数据结构中。 行版本控制用于实现对同一行的并发读取和写入。

#### 接下来讲哈希索引

所有内存优化表都至少必须有一个索引，因为行正是通过索引才连接在一起。 在内存优化表中，每个索引也经过内存优化。

> 内存优化表支持的索引
>
> * 哈希索引
> * 内存优化表的非聚集索引（即 B 树的默认内部结构）

内存优化表暂接触不到